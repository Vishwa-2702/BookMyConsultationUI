{"ast":null,"code":"var _jsxFileName = \"/Users/vishwapatel/Desktop/Capstone Project/Frontend/BookMyConsultationUI/src/screens/appointment/RateAppointment.js\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Paper from \"@material-ui/core/Paper\";\nimport \"./Appointment.css\";\nimport { useAuthContext } from \"../../hooks/useAuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RateAppointment = _ref => {\n  _s();\n  let {\n    appointmentDetails,\n    handleClose\n  } = _ref;\n  const [comment, setComment] = React.useState(\"\");\n  const [rating, setRating] = React.useState(0);\n  const [ratingError, setRatingError] = React.useState(false);\n  const [ratingSuccess, setRatingSuccess] = React.useState(false);\n  const {\n    userToken\n  } = useAuthContext();\n  const ratingURL = \"http://localhost:8080/ratings\";\n  const handleRating = e => {\n    if (e) e.preventDefault();\n    if (rating === 0) {\n      setRatingError(true);\n      return;\n    }\n    if (setRatingError !== true) {\n      fetch(ratingURL, {\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          Accept: \"application/json;Charset=UTF-8\",\n          Authorization: `Bearer ${userToken}`\n        },\n        body: JSON.stringify({\n          appointmentId: appointmentDetails.appointmentId,\n          doctorId: appointmentDetails.doctorId,\n          rating: rating,\n          comments: comment\n        })\n      }).then(response => {\n        if (response.ok) {\n          setRatingSuccess(true);\n          setTimeout(() => {\n            handleClose();\n          }, 1500);\n        } else {\n          throw new Error(\"Something went wrong\");\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: \"purple\",\n          color: \"white\",\n          padding: \"11px\",\n          height: \"70px\",\n          display: \"flex\",\n          alignItems: \"center\",\n          fontSize: \"1.2em\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          id: \"rating-header\",\n          children: \"Rate an Appointment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"rating-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rate-input\",\n          children: /*#__PURE__*/_jsxDEV(TextField, {\n            label: \"Comments\",\n            onChange: e => setComment(e.target.value),\n            id: \"standard-multiline-static\",\n            multiline: true,\n            rows: 3\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rating-input-star\",\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            children: [\"Rating:\", /*#__PURE__*/_jsxDEV(Rating, {\n              value: rating,\n              onChange: (e, newValue) => {\n                if (newValue) {\n                  setRating(newValue);\n                }\n              },\n              name: \"read-only\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rating-error\",\n              children: rating === 0 && ratingError && /*#__PURE__*/_jsxDEV(FormHelperText, {\n                id: \"invalid-error\",\n                children: \"Select a rating\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleRating,\n          id: \"rate-button-customize\",\n          variant: \"contained\",\n          color: \"primary\",\n          children: \"RATE APPOINTMENT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: ratingSuccess === true && /*#__PURE__*/_jsxDEV(FormHelperText, {\n          id: \"rating-success\",\n          children: \"Rating Success\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(RateAppointment, \"HLlTE6bXjDjm1pR5HAsaiosYwrQ=\", false, function () {\n  return [useAuthContext];\n});\n_c = RateAppointment;\nexport default RateAppointment;\nvar _c;\n$RefreshReg$(_c, \"RateAppointment\");","map":{"version":3,"names":["React","Button","TextField","Rating","FormControl","FormHelperText","Paper","useAuthContext","jsxDEV","_jsxDEV","RateAppointment","_ref","_s","appointmentDetails","handleClose","comment","setComment","useState","rating","setRating","ratingError","setRatingError","ratingSuccess","setRatingSuccess","userToken","ratingURL","handleRating","e","preventDefault","fetch","method","headers","Accept","Authorization","body","JSON","stringify","appointmentId","doctorId","comments","then","response","ok","setTimeout","Error","catch","error","console","log","children","style","background","color","padding","height","display","alignItems","fontSize","id","fileName","_jsxFileName","lineNumber","columnNumber","className","label","onChange","target","value","multiline","rows","newValue","name","onClick","variant","_c","$RefreshReg$"],"sources":["/Users/vishwapatel/Desktop/Capstone Project/Frontend/BookMyConsultationUI/src/screens/appointment/RateAppointment.js"],"sourcesContent":["import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Paper from \"@material-ui/core/Paper\";\nimport \"./Appointment.css\";\nimport { useAuthContext } from \"../../hooks/useAuthContext\";\n\nconst RateAppointment = ({ appointmentDetails, handleClose }) => {\n  const [comment, setComment] = React.useState(\"\");\n  const [rating, setRating] = React.useState(0);\n  const [ratingError, setRatingError] = React.useState(false);\n  const [ratingSuccess, setRatingSuccess] = React.useState(false);\n  const { userToken } = useAuthContext();\n\n  const ratingURL = \"http://localhost:8080/ratings\";\n\n  const handleRating = (e) => {\n    if (e) e.preventDefault();\n\n    if (rating === 0) {\n      setRatingError(true);\n      return;\n    }\n\n    if (setRatingError !== true) {\n      fetch(ratingURL, {\n        method: \"POST\",\n        headers: {\n          \"Content-type\": \"application/json\",\n          Accept: \"application/json;Charset=UTF-8\",\n          Authorization: `Bearer ${userToken}`,\n        },\n        body: JSON.stringify({\n          appointmentId: appointmentDetails.appointmentId,\n          doctorId: appointmentDetails.doctorId,\n          rating: rating,\n          comments: comment,\n        }),\n      })\n        .then((response) => {\n          if (response.ok) {\n            setRatingSuccess(true);\n            setTimeout(() => {\n              handleClose();\n            }, 1500);\n          } else {\n            throw new Error(\"Something went wrong\");\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  };\n\n  return (\n    <div>\n      <Paper>\n        <div\n          style={{\n            background: \"purple\",\n            color: \"white\",\n            padding: \"11px\",\n            height: \"70px\",\n            display: \"flex\",\n            alignItems: \"center\",\n            fontSize: \"1.2em\",\n          }}\n        >\n          <span id=\"rating-header\">Rate an Appointment</span>\n        </div>\n        <div id=\"rating-body\">\n          <div className=\"rate-input\">\n            <TextField\n              label=\"Comments\"\n              onChange={(e) => setComment(e.target.value)}\n              id=\"standard-multiline-static\"\n              multiline\n              rows={3}\n            />\n          </div>\n          <div className=\"rating-input-star\">\n            <FormControl>\n              Rating:\n              <Rating\n                value={rating}\n                onChange={(e, newValue) => {\n                  if (newValue) {\n                    setRating(newValue);\n                  }\n                }}\n                name=\"read-only\"\n              />\n              <div className=\"rating-error\">\n                {rating === 0 && ratingError && (\n                  <FormHelperText id=\"invalid-error\">\n                    Select a rating\n                  </FormHelperText>\n                )}\n              </div>\n            </FormControl>\n          </div>\n          <Button\n            onClick={handleRating}\n            id=\"rate-button-customize\"\n            variant=\"contained\"\n            color=\"primary\"\n          >\n            RATE APPOINTMENT\n          </Button>\n        </div>\n        <div>\n          {ratingSuccess === true && (\n            <FormHelperText id=\"rating-success\">Rating Success</FormHelperText>\n          )}\n        </div>\n      </Paper>\n    </div>\n  );\n};\n\nexport default RateAppointment;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}